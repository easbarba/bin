#!/usr/bin/env bash

# Debug Options
set -euo pipefail

DEPS=(apt-get)
s-checkdeps "${DEPS[@]}"

INSTALL='sudo apt-get install -y'

mx=(emacs libgccjit0 libgccjit-12-dev libwebkit2gtk-4.0-dev libjansson-dev libjansson4)
langs_hobby=(libzstd-dev guile-3.0)
c=(libedit-dev)
db=(postgresql postgresql-client postgresql-contrib libpq-dev)
langs_work=(golang clang lld ruby-full)
langs_tools=(python3-pip)
editors=(zile vim neovim tidy ripgrep)
tools=(jq git-email subversion mercurial libpq-dev editorconfig gnome-keyring direnv fd-find shfmt meson cmake)

groups=("${mx[@]}"
    "${c[@]}"
    "${langs_hobby[@]}"
    "${langs_work[@]}"
    "${langs_tools[@]}"
    "${editors[@]}"
    "${db[@]}"
    "${tools[@]}")

for group in "${groups[@]}"; do
    s-dolist "$INSTALL" "$group"
done

exit
